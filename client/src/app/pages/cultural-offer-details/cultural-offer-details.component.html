<div >
    <app-image-slider [culturalOffer]="culturalOffer" [imageDTO]="images"></app-image-slider>
    <br>
    <div class="center">
        <span>
            <button *ngIf="!checker && role==='ROLE_REGISTERED_USER'" id="subscribe" mdbBtn type="button"  mdbWavesEffect (click)="subscribeUser()">Subscribe</button>
            <button *ngIf="checker && role==='ROLE_REGISTERED_USER'" id="unsubscribe" mdbBtn type="button"  mdbWavesEffect (click)="unsubscribe()">Unsubscribe</button> 
            Subscribers:<span id="numberOfSubscribed">{{subscribed}}</span> 

        </span> 
        <div class="edit">
            <p>Rating: <span id ="averageRate">{{culturalOffer?.averageRate}}</span></p>
            <app-star-rating  *ngIf="role === 'ROLE_REGISTERED_USER'" (ratingClick)="rateClicked($event)"></app-star-rating>
        </div>
        <br>
        <br>
        <span *ngIf="role === 'ROLE_REGISTERED_USER'">
        <form class="reactiveForm" [formGroup]="commentForm" (ngSubmit)="addNewComment()">
            <div class="example-container">
            <h2 mat-dialog-title>New comment</h2>
            <mat-form-field class="example-full-width" >
                <mat-label>Leave a comment</mat-label>
                <textarea matInput id="newComment" inline="true" matInput formControlName="text"></textarea>
             </mat-form-field> 
            <br>
             <mat-form-field>
                <ngx-mat-file-input id="uploadButton"  placeholder="Choose image" (change)="onFileSelect($event)"></ngx-mat-file-input>
                <mat-icon matSuffix>image</mat-icon>
            </mat-form-field>
            <mat-dialog-actions align="end">
                <button mat-button type="submit" id="sendComment" matTooltip="Send" class="button-color" inline="true">
                    <mat-icon>send</mat-icon>
                </button>
            </mat-dialog-actions>
            </div>
        </form>
        </span>
        <mat-card-actions *ngIf="role === 'ROLE_ADMIN'">
            <button mat-button id="addPost" color="success" (click)="addPost()">New post</button>
            <button mat-button id="editCulturalOffer" (click)="edit()">Edit</button>
            <button mat-button id="deleteCulturalOffer" color="warn" (click)="confirmDialog()">Delete</button>
        </mat-card-actions> 
        <br>
        <br>  
        <div>
           <app-comment-list [culturalOfferId]="id"></app-comment-list>
        </div>

    </div>
    
</div>       

   
